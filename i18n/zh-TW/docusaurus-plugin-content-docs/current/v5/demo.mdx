---
title: 模擬交易
sidebar_label: 模擬交易
---
## 概覽
Abfinance v5 Open API支持模擬交易帳戶, 但是由於模擬交易的主要目的是為了體驗基礎交易功能, 僅支持有限的功能, 所以部分接口不支持使用。

## 創建API Key
1. 您需要登入到[Abfinance 主網](https://www.abfinance.com/)帳戶;
2. 切換到`模擬交易`, 注意: 模擬交易擁有自己獨立的帳戶ID;
3. 懸停鼠標在用戶頭像上, 然後點擊"API" 來創建key和secret;

## 使用規則
* 基礎交易規則和實盤保持一致
* 模擬盤的訂單僅保留**7天**
* 默認請求頻率, 無法提頻

## 域名
**主網模擬盤:**<br/>
Rest API: `https://api-demo.abfinance.com`<br/>
Websocket : `wss://stream-demo.abfinance.com` (請注意模擬交易僅支持私有頻道; 公共頻道請使用 `wss://stream.abfinance.com`; WS下單服務不支持)

## 小建議
* 請注意模擬交易是獨立模塊, 當創建了模擬交易的api key後, 請使用以上域名進行連接
* 順便說下, 在[測試網](https://testnet.abfinance.com)使用模擬交易服務是無意義的, 因為二者都是沙盒環境, 若要使用模擬交易, 請至[主網](https://www.abfinance.com)生成模擬交易的api key

## 可用接口列表
<span class="blocky_table">
<table border="0.8">
    <tr>
        <th>目錄</th><th>接口名</th><th>路由</th>
    </tr>
    <tr>
        <td>公有行情</td><td align="center">所有</td><td align="center">所有接口</td>
    </tr>
    <tr>
        <td rowSpan="10">交易</td><td align="center"><a href="/v5/order/create-order">創建委託單</a></td><td align="center">/v5/order/create</td>
    </tr>
    <tr>
        <td align="center"><a href="/v5/order/amend-order">修改委託單</a></td><td align="center">/v5/order/amend</td>
    </tr>
    <tr>
        <td align="center"><a href="/v5/order/cancel-order">撤銷委託單</a></td><td align="center">/v5/order/cancel</td>
    </tr>
    <tr>
        <td align="center"><a href="/v5/order/open-order">查詢實時委託段</a></td><td align="center">/v5/order/realtime</td>
    </tr>
    <tr>
        <td align="center"><a href="/v5/order/cancel-all">撤銷所有訂單</a></td><td align="center">/v5/order/cancel-all</td>
    </tr>
    <tr>
        <td align="center"><a href="/v5/order/order-list">查詢歷史訂單</a></td><td align="center">/v5/order/history</td>
    </tr>
    <tr>
        <td align="center"><a href="/v5/order/execution">查詢成交紀錄</a></td><td align="center">/v5/execution/list</td>
    </tr>
    <tr>
        <td align="center"><a href="/v5/order/batch-place">批量創建委託單</a></td><td align="center">/v5/order/create-batch (期貨/期權)</td>
    </tr>
    <tr>
        <td align="center"><a href="/v5/order/batch-amend">批量修改委託單</a></td><td align="center">/v5/order/amend-batch (期貨/期權)</td>
    </tr>
    <tr>
        <td align="center"><a href="/v5/order/batch-cancel">批量撤銷委託單</a></td><td align="center">/v5/order/cancel-batch (期貨/期權)</td>
    </tr>
    
    <tr>
        <td rowSpan="9">帳戶</td><td align="center"><a href="/v5/account/wallet-balance">查詢錢包餘額</a></td><td align="center">/v5/account/wallet-balance</td>
    </tr>
    <tr>
        <td align="center"><a href="/v5/account/borrow-history">查詢利息紀錄</a></td><td align="center">/v5/account/borrow-history</td>
    </tr>
    <tr>
        <td align="center"><a href="/v5/account/set-collateral">設置抵押品幣種</a></td><td align="center">/v5/account/set-collateral-switch</td>
    </tr>
    <tr>
        <td align="center"><a href="/v5/account/collateral-info">查詢抵押品信息</a></td><td align="center">/v5/account/collateral-info</td>
    </tr>
  
    <tr>
        <td align="center"><a href="/v5/account/account-info">查詢帳戶配置</a></td><td align="center">/v5/account/info</td>
    </tr>
    <tr>
        <td align="center"><a href="/v5/account/transaction-log">查詢交易日誌</a></td><td align="center">/v5/account/transaction-log</td>
    </tr> 
    
    <tr>
        <td><a href="/v5/websocket/private/position">WS私有推送</a></td><td align="center">order,execution,wallet</td><td align="center">/v5/private</td>
    </tr>
</table>
</span>

### 獲取模擬資金接口
> API頻率: 每分鐘1次

#### HTTP請求
POST `/v5/account/demo-apply-money`

#### 請求參數
| 參數 | 是否必需 | 類型 | 說明|
|:----- |:-------|:-----|------ |
|adjustType|false|integer |`0`(默認): 增加模擬資金; `1`: 減少模擬資金|
|utaDemoApplyMoney|false|array ||
|> coin|false|string|申請的幣種, 支持 `BTC`, `ETH`, `USDT`, `USDC`|
|> amountStr|false|string|申請的金額, 每次請求最多支持申請如下金額 <li>`BTC`: "15"</li><li>`ETH`: "200"</li><li>`USDT`: "100000"</li><li>`USDC`: "100000"</li>|

#### 請求示例
```http
POST /v5/account/demo-apply-money HTTP/1.1
Host: api-demo.abfinance.com
X-BAPI-SIGN: XXXXXXX
X-BAPI-API-KEY: xxxxxxxxxxxxxxxxxx
X-BAPI-TIMESTAMP: 1711420489915
X-BAPI-RECV-WINDOW: 5000
Content-Type: application/json

{
    "adjustType": 0,
    "utaDemoApplyMoney": [
        {
            "coin": "USDT",
            "amountStr": "109"
        },
        {
            "coin": "ETH",
            "amountStr": "1"
        }
    ]
}
```

### 創建模擬交易帳戶
> API 頻率: 5次/秒<br/>
> 權限: 帳戶劃轉, 母子帳戶劃轉

:::info
* 使用生產環境的母子帳戶調用該接口, 域名需要是"api.abfinance.com"
* 如果模擬帳戶已經存在, 這個POST接口直接返回存在的模擬帳戶UID
* 如果使用的母帳戶key調接口, 則創建的模擬帳戶存在於該母帳戶下面
* 如果使用的子帳戶key調接口, 則創建的模擬帳戶存在於該子帳戶下面
:::

#### HTTP 請求
POST `/v5/user/create-demo-member`

#### 請求參數
無

#### 響應參數
| 參數 | 類型 | 說明|
|:----- |:-----|----- |
|subMemberId |string |模擬帳戶UID |

#### 請求實例
```http
POST /v5/user/create-demo-member HTTP/1.1
Host: api.abfinance.com
X-BAPI-SIGN: XXXXXXX
X-BAPI-API-KEY: xxxxxxxxxxxxxxxxxx
X-BAPI-TIMESTAMP: 1728460942776
X-BAPI-RECV-WINDOW: 5000
Content-Type: application/json
Content-Length: 2

{}
```

### [創建模擬帳戶API Key](/v5/user/create-subuid-apikey)
:::info
* 參數填寫模擬帳戶UID
* 使用**生產環境母帳戶**調用接口, 域名需要是**"api.abfinance.com"**
:::

### [更新模擬帳戶API Key](/v5/user/modify-sub-apikey)
:::info
* 使用**生產環境母帳戶**調用接口, 域名需要是**"api.abfinance.com"**
:::

### [查詢模擬帳戶API Key信息](/v5/user/apikey-info)
:::info
* 使用**對應的模擬帳戶**調用接口, 域名需要是**"api-demo.abfinance.com"**
:::

### [刪除模擬帳戶API Key](/v5/user/rm-sub-apikey)
:::info
* 使用**生產環境母帳戶**調用接口, 域名需要是**"api.abfinance.com"**
:::